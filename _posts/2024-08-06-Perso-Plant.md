---
layout: post
title:  "Plant Health"
categories: jekyll update
image: /images/ndvi_from_2_images.jpg
---

Monitoring of plant health

This study was performed to meet my personal needs.

<h3>Context</h3>

I own a fig-tree that lives on my balcony, and that has looked unwell for a few years.

I wish to understand what is the origin of its condition,

... With the additional challenge in 2024: to allow it to survive the ever-increasing temperatures (extremes up to 50 degrees Celsius).

![webjeda cards jekyll theme]({{site.baseurl}}/images/20240813_202827.jpg)
<div class="mt20"></div>


<h3>Development</h3>

I measured a number of metrics, that would act as inputs for the analysis:

<ul class="list-group">
  <li class="list-group-item">Temperature</li>
  <li class="list-group-item">Air humidity</li>
  <li class="list-group-item">Luminosity</li>
</ul>

<div class="mt20"></div>

I have little control on the above metrics...

... However, in addition, I measured the soil moisture, and I automated the watering of the tree.

The measurement instruments are a collection of Raspberry Pi -based (Zero and Pico) units, manufactured by Pimoroni.



![webjeda cards jekyll theme]({{site.baseurl}}/images/20240813_202812.jpg)
<div class="mt20"></div>

I currently own 9 months of measurements, at 5-minute resolution.


![webjeda cards jekyll theme]({{site.baseurl}}/images/moisture.png)
<div class="mt20"></div>

I imagined that the output metric could be the NDVI (Neutral Density Vegetation Index), to quantify the condition of the tree, building on the observation that notably the color of leaves reflects its well-being.

The NDVI was generated using two parallel-assembled Raspberry Pi Zero's, with distinct cameras for visible-light-only and infrared-sensitive captures, ...

... and by processing the image layers.

![webjeda cards jekyll theme]({{site.baseurl}}/images/matches.jpg)
<div class="mt20"></div>


The challenges faced were notably:
<ul class="list-group">
  <li class="list-group-item">Data artefacts generated by the measuring hardware</li>
  <li class="list-group-item">Unreliable programmatic image pairing</li>
  <li class="list-group-item">Parallax issues faced with wide-angle lenses and close distances</li>
  <li class="list-group-item">Powering issues</li>
</ul>

<div class="mt20"></div>

<h3>Result</h3>

The fig-tree survived the summer 2024.

NDVI maps were generated:

![webjeda cards jekyll theme]({{site.baseurl}}/images/ndvi_from_2_images.jpg)
<div class="mt20"></div>

The NDVI criterion seems to be a non-viable metric for my needs:
<ul class="list-group">
  <li class="list-group-item">Its definition is not unique</li>
  <li class="list-group-item">It has practical flaws when generated at close distance, that are less apparent when the criterion is applied to satellite images, for example</li>
</ul>

<div class="mt20"></div>

Early attempts at correlating the evolution of soil moisture versus temperature and lighting were inconclusive.

![webjeda cards jekyll theme]({{site.baseurl}}/images/moisture_diff_vs_temperature.png)
<div class="mt20"></div>

![webjeda cards jekyll theme]({{site.baseurl}}/images/moisture_diff_vs_luminance.png)
<div class="mt20"></div>

Correlations will need to be overhauled, and an alternative metric for the plant health is required.

The fig-tree is still looking unwell.

<h3>Details</h3>

Following tools were notably used:
<ul class="list-group">
  <li class="list-group-item">Raspberry Pi</li>
  <li class="list-group-item">Linux</li>
  <li class="list-group-item">Python</li>
  <li class="list-group-item">OpenCV</li>
  <li class="list-group-item">Picamera / Libcamera</li>
</ul>

<div class="mt20"></div>

The following ressources were notably used:
<ul class="list-group">
  <li class="list-group-item">'Development of an accurate low cost NDVI imaging system for assessing plant health' - John D. Stamford, Silvere Vialet-Chabrand, Iain Cameron & Tracy Lawson - 30 January 2023</li>
</ul>

<div class="mt20"></div>
